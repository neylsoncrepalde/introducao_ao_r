---
title: "Introdução ao R - Aula 1"
author: "Neylson Crepalde"
date: "26 de setembro de 2016"
output: 
  html_document:
    highlight: tango
---
# Comandos básicos
Podemos usar o R como calculadora:
```{r}
5 + 5
16-32
7*5
9/3
```

Resto da divisão
```{r}
10%%3
```

### Raiz e potência
A maioria dos comandos no R tem esse formato: comando(). Para tirar a raiz usamos o comando `sqrt()`
```{r}
sqrt(49)
4^2
5^5
```

Raiz cúbica
```{r}
27^(1/3)
```

Exponencial e log natural(base e)
```{r}
exp(4.5)
log(90)
```
## Linguagem de programação orientada a objetos

O **R** é uma linguagem de programação orientada a objetos. Em linguagem muito coloquial, isso quer dizer que podemos atribuir números, textos e resultados a um objeto criado. Vamos construir um objeto chamado `x` com o valor 5 e um objeto `y` com o valor 7:
```{r}
x <- 5
y = 7
x
y
```

Podemos fazer também operações com objetos
```{r}
x+y
x*y
z = 2*x + y^2
z
```

### Trabalhando com vetores
O comando **c()** significa *concatenar*, ou seja, juntar os valores. Vamos construir um objeto `x` e atribuir a ele um vetor de números:
```{r}
x <- c(1,3,2,5)
x
```

Se eu atribuir outro vetor ao objeto `x`, ele será sobrescrito.
```{r}
x = c(1,6,2)
x
y = c(1,4,3)
y
```

Podemos verificar o tamanho do vetor com o comando `length()`:
```{r}
length(x)
length(y)
```

### Operações com vetores
```{r}
x+y
x-y
x*y
x/y
```

Outros comandos úteis:
```{r}
ls() #este comando lista os objetos no ambiente
rm(x,y) #este comando remove objetos
ls()
rm(list=ls()) # para limpar tudo no ambiente
ls()
```


## Classes de vetores

Os vetores podem ser numéricos, inteiros, lógicos, ou *character*, isto é, vetores de texto.

Para descobrir a classe de um vetor, usamos o comando `class()`
```{r}
numeros <- c(13,15,24,17,12)
nomes <- c("Neylson","Ítalo","Silvio","Rogério","Marcelo")

class(numeros) # vetor numérico
class(nomes) # vetor de texto ou string

inteiros <- c(5L, 7L, 45L, 9L, 2L)
class(inteiros) # vetor de números inteiros

#podemos converter um vetor numérico para um vetor de inteiros
peso <- c(60.45, 78.9, 45.7, 98.654, 69.324)
class(peso)

as.integer(peso) 
```

## Trabalhando com vetores character (INTRO)
Uma função bastante útil para vetores numéricos é a `paste()`. Esta função junta os diversos componentes de um vetor separando-os com um espaço. Se quero que seja separada por outro elemento qualquer, uso a opção `sep`. A função `paste0()` não usa separador.
```{r}
paste("Eu","gosto","de","pão","de","queijo!")
paste("Eu","gosto","de","pão","de","queijo!", sep = "|")
paste0("Ês", "pens","cu","ons","é","dês") #Só os mineiros entenderão!
```

## Vetores Lógicos
Vetores lógicos assumem apenas dois valores: `TRUE` e `FALSE`. Eles são importantes para testes no R.
```{r}
logicos <- c(T,F,F,T,T)
class(logicos)
5 > 3   # 5 é maior que 3?
5 > 6   # 5 é maior que 6?
is.numeric(logicos) # o vetor "logicos" é numeric?
```

### Sequências
Sequências são bastante úteis em programação. Podemos criá-las de algumas maneiras no R:
```{r}
1:10
4:40
2.5:9
7:-7
```

A função `seq()` permite algumas opções mais elaboradas:
```{r}
seq(from=15, to=30)
seq(from=15, to=30, by=3)
seq(from=15, to=30, by= 0.5)
seq(from=15, to=30, length=10) #tamanho da sequência definida
seq(from=15, to=5, by=-.5)
```

Podemos ainda criar repetições com a função `rep()`:
```{r}
rep(1:3, times=10)
rep(1:3, each=10)
```

### Missing data
No `R` o valor *missing*, ou **não resposta** é representado por `NA`.
```{r}
x = c(1,3,NA,6,10)
X
class(x)
is.na(x) #No vetor x há um NA?
is.nan(x) #No vetor x há um NaN (not a number)?
```
Veja bem que NaN (*not a number*) é um caso especial de *missing values*.

```{r}
0/0
is.na(0/0)
is.nan(0/0)
```


### Matrizes

Matrizes são objetos que assumem duas dimensões, ou seja, vetores organizados em linhas e colunas.
Podemos criar uma matriz no `R` com o comando `matrix()` e definindo o número de linhas e colunas:
```{r}
matrix(1:40, nrow = 10, ncol = 4)
matrix(1:40, nrow = 10, ncol = 4, byrow = T)
```

Podemos também fazer operações com matrizes:
```{r}
X <- matrix(c(1,2,3,4), 4, 4)
sqrt(X)
X^2
```

?matrix
x=matrix(data=c(1,2,3,4), nrow=2, ncol=2)
x
x=matrix(c(1,2,3,4),2,2)
matrix(c(1,2,3,4),2,2,byrow=TRUE)
sqrt(x)
x^2
x=rnorm(50)
y=x+rnorm(50,mean=50,sd=.1)
cor(x,y)
set.seed(1303)
rnorm(50)
set.seed(3)
y=rnorm(100)
mean(y)
var(y)
sqrt(var(y))
sd(y)

# Graphics

x=rnorm(100)
y=rnorm(100)
plot(x,y)
plot(x,y,xlab="this is the x-axis",ylab="this is the y-axis",main="Plot of X vs Y")
pdf("Figure.pdf")
plot(x,y,col="green")
dev.off()
x=seq(1,10)
x
x=1:10
x
x=seq(-pi,pi,length=50)
y=x
f=outer(x,y,function(x,y)cos(y)/(1+x^2))
contour(x,y,f)
contour(x,y,f,nlevels=45,add=T)
fa=(f-t(f))/2
contour(x,y,fa,nlevels=15)
image(x,y,fa)
persp(x,y,fa)
persp(x,y,fa,theta=30)
persp(x,y,fa,theta=30,phi=20)
persp(x,y,fa,theta=30,phi=70)
persp(x,y,fa,theta=30,phi=40)

# Indexing Data

A=matrix(1:16,4,4)
A
A[2,3]
A[c(1,3),c(2,4)]
A[1:3,2:4]
A[1:2,]
A[,1:2]
A[1,]
A[-c(1,3),]
A[-c(1,3),-c(1,3,4)]
dim(A)

# Loading Data

Auto=read.table("Auto.data")
fix(Auto)
Auto=read.table("Auto.data",header=T,na.strings="?")
fix(Auto)
Auto=read.csv("Auto.csv",header=T,na.strings="?")
fix(Auto)
dim(Auto)
Auto[1:4,]
Auto=na.omit(Auto)
dim(Auto)
names(Auto)

# Additional Graphical and Numerical Summaries

plot(cylinders, mpg)
plot(Auto$cylinders, Auto$mpg)
attach(Auto)
plot(cylinders, mpg)
cylinders=as.factor(cylinders)
plot(cylinders, mpg)
plot(cylinders, mpg, col="red")
plot(cylinders, mpg, col="red", varwidth=T)
plot(cylinders, mpg, col="red", varwidth=T,horizontal=T)
plot(cylinders, mpg, col="red", varwidth=T, xlab="cylinders", ylab="MPG")
hist(mpg)
hist(mpg,col=2)
hist(mpg,col=2,breaks=15)
pairs(Auto)
pairs(~ mpg + displacement + horsepower + weight + acceleration, Auto)
plot(horsepower,mpg)
identify(horsepower,mpg,name)
summary(Auto)
summary(mpg)
